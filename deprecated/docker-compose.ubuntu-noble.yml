# Ubuntu 24.04 Noble Systemd Container
# 
# 使用方法：
#   后台运行：docker compose -f docker-compose.ubuntu-noble.yml up -d
#   查看日志：docker compose -f docker-compose.ubuntu-noble.yml logs -f
#   停止容器：docker compose -f docker-compose.ubuntu-noble.yml down
#   进入容器：docker exec -it ubuntu-noble-systemd /bin/bash

services:
  ubuntu-noble-systemd:
    image: sunshinecloud007/sunshinecloud-universal-systemd-desktop:amd64-noble
    container_name: ubuntu-noble-systemd
    privileged: true
    restart: unless-stopped
    network_mode: host
    stdin_open: true
    tty: true
    
    # 必需的 systemd 配置
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    
    # 使用主机的 cgroup namespace
    cgroup: host
    
    # 可选：持久化数据卷
    # volumes:
    #   - ubuntu-noble-data:/root
    #   - ubuntu-noble-home:/home
    
    # 可选：端口映射
    # ports:
    #   - "2222:22"    # SSH
    #   - "8080:80"    # HTTP
    #   - "11434:11434" # Ollama
    
    # 可选：环境变量
    # environment:
    #   - TZ=Asia/Shanghai
    
    # 可选：网络配置
    # networks:
    #   - systemd-net

# 可选：定义数据卷
# volumes:
#   ubuntu-noble-data:
#   ubuntu-noble-home:

# 可选：定义网络
# networks:
#   systemd-net:
#     driver: bridge
